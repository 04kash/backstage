## API Report File for "@backstage/backend-defaults"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import type { AuditorCreateEvent } from '@backstage/backend-plugin-api';
import type { AuditorEventSeverityLevel } from '@backstage/backend-plugin-api';
import { AuditorService } from '@backstage/backend-plugin-api';
import type { AuthService } from '@backstage/backend-plugin-api';
import type { Format } from 'logform';
import type { HttpAuthService } from '@backstage/backend-plugin-api';
import type { JsonObject } from '@backstage/types';
import type { PluginMetadataService } from '@backstage/backend-plugin-api';
import type { Request as Request_2 } from 'express';
import { ServiceFactory } from '@backstage/backend-plugin-api';
import * as winston from 'winston';

// @public
export type AuditorEvent = [
  eventId: string,
  meta: {
    severityLevel: AuditorEventSeverityLevel;
    actor: AuditorEventActorDetails;
    meta?: JsonObject;
    request?: AuditorEventRequest;
  } & AuditorEventStatus,
];

// @public (undocumented)
export type AuditorEventActorDetails = {
  actorId?: string;
  ip?: string;
  hostname?: string;
  userAgent?: string;
};

// @public
export type AuditorEventOptions<TMeta extends JsonObject> = {
  eventId: string;
  severityLevel?: AuditorEventSeverityLevel;
  request?: Request_2<any, any, any, any, any>;
  meta?: TMeta;
} & AuditorEventStatus;

// @public (undocumented)
export type AuditorEventRequest = {
  url: string;
  method: string;
};

// @public (undocumented)
export type AuditorEventStatus<TError extends Error = Error> =
  | {
      status: 'initiated';
    }
  | {
      status: 'succeeded';
    }
  | ({
      status: 'failed';
    } & (
      | {
          error: TError;
        }
      | {
          errors: TError[];
        }
    ));

// @public
export const auditorFieldFormat: Format;

// @public
export const auditorServiceFactory: ServiceFactory<
  AuditorService,
  'plugin',
  'singleton'
>;

// @public
export class DefaultAuditorService implements AuditorService {
  static create(
    impl: DefaultRootAuditorService,
    deps: {
      auth: AuthService;
      httpAuth: HttpAuthService;
      plugin: PluginMetadataService;
    },
  ): DefaultAuditorService;
  // (undocumented)
  createEvent<TMeta extends JsonObject>(
    options: Parameters<AuditorCreateEvent<TMeta>>[0],
  ): ReturnType<AuditorCreateEvent<TMeta>>;
}

// @public (undocumented)
export const defaultProdFormat: Format;

// @public (undocumented)
export class DefaultRootAuditorService {
  static colorFormat(): Format;
  static create(options?: RootAuditorOptions): DefaultRootAuditorService;
  // (undocumented)
  forPlugin(deps: {
    auth: AuthService;
    httpAuth: HttpAuthService;
    plugin: PluginMetadataService;
  }): AuditorService;
  // (undocumented)
  log(auditEvent: AuditorEvent): Promise<void>;
}

// @public (undocumented)
export interface RootAuditorOptions {
  // (undocumented)
  format?: Format;
  // (undocumented)
  meta?: JsonObject;
  // (undocumented)
  transports?: winston.transport[];
}

// (No @packageDocumentation comment for this package)
```
